<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="SEQKoalaDataPipeline">
<title>4. Covariate extraction • SEQKoalaDataPipeline</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="4. Covariate extraction">
<meta property="og:description" content="SEQKoalaDataPipeline">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">SEQKoalaDataPipeline</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/index.html">Introduction</a>
    <a class="dropdown-item" href="../articles/v01-setup.html">1. Setup</a>
    <a class="dropdown-item" href="../articles/v02-get-data.html">2. Get Data</a>
    <a class="dropdown-item" href="../articles/v03-linear-referencing.html">3. Linear Referencing</a>
    <a class="dropdown-item" href="../articles/v04-covariates.html">4. Covariate extraction</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav"></ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>4. Covariate extraction</h1>
            
      
      
      <div class="d-none name"><code>v04-covariates.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://seq-koala-monitoring.github.io/data-pipeline/">SEQKoalaDataPipeline</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dieghernan.github.io/tidyterra/" class="external-link">tidyterra</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://patchwork.data-imaginist.com" class="external-link">patchwork</a></span><span class="op">)</span></span></code></pre></div>
<p>Get data</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data_dir</span> <span class="op">&lt;-</span> <span class="st">"M:\\Users\\uqfcho\\Documents\\seq-koala-monitoring\\working_data"</span></span>
<span><span class="fu"><a href="../reference/fcn_set_home_dir.html">fcn_set_home_dir</a></span><span class="op">(</span><span class="va">data_dir</span><span class="op">)</span></span>
<span><span class="va">table_sf_2020</span> <span class="op">&lt;-</span> <span class="fu">fcn_line_transect_sf_2020</span><span class="op">(</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/fcn_set_grid_size.html">fcn_set_grid_size</a></span><span class="op">(</span><span class="fl">5000</span><span class="op">)</span> <span class="co"># grid width/ height in meters, and generate grid in local environment</span></span>
<span><span class="co">#&gt; Simple feature collection with 1800 features and 1 field</span></span>
<span><span class="co">#&gt; Geometry type: POLYGON</span></span>
<span><span class="co">#&gt; Dimension:     XY</span></span>
<span><span class="co">#&gt; Bounding box:  xmin: 378280 ymin: 6862464 xmax: 558280 ymax: 7112464</span></span>
<span><span class="co">#&gt; Projected CRS: GDA2020 / MGA zone 56</span></span>
<span><span class="co">#&gt; First 10 features:</span></span>
<span><span class="co">#&gt;                          geometry  GridID</span></span>
<span><span class="co">#&gt; 1  POLYGON ((378280 6862464, 3...  5000_1</span></span>
<span><span class="co">#&gt; 2  POLYGON ((383280 6862464, 3...  5000_2</span></span>
<span><span class="co">#&gt; 3  POLYGON ((388280 6862464, 3...  5000_3</span></span>
<span><span class="co">#&gt; 4  POLYGON ((393280 6862464, 3...  5000_4</span></span>
<span><span class="co">#&gt; 5  POLYGON ((398280 6862464, 4...  5000_5</span></span>
<span><span class="co">#&gt; 6  POLYGON ((403280 6862464, 4...  5000_6</span></span>
<span><span class="co">#&gt; 7  POLYGON ((408280 6862464, 4...  5000_7</span></span>
<span><span class="co">#&gt; 8  POLYGON ((413280 6862464, 4...  5000_8</span></span>
<span><span class="co">#&gt; 9  POLYGON ((418280 6862464, 4...  5000_9</span></span>
<span><span class="co">#&gt; 10 POLYGON ((423280 6862464, 4... 5000_10</span></span>
<span><span class="va">fishnet</span> <span class="op">&lt;-</span> <span class="fu">fcn_get_grid</span><span class="op">(</span><span class="op">)</span> <span class="co"># Retrieve grid from environment for plotting</span></span></code></pre></div>
<div class="section level2">
<h2 id="covariate-extraction">Covariate extraction<a class="anchor" aria-label="anchor" href="#covariate-extraction"></a>
</h2>
<div class="section level3">
<h3 id="atemporal-rasters-covariate-extraction">Atemporal rasters covariate extraction<a class="anchor" aria-label="anchor" href="#atemporal-rasters-covariate-extraction"></a>
</h3>
<p>Likewise, the capabilities of linear referencing can be applied to
extract covariate information from Raster files. The raster layer can be
loaded using <code>fcn_covariate_raster_load</code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cov</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcn_covariate_raster_load.html">fcn_covariate_raster_load</a></span><span class="op">(</span><span class="st">"htele"</span><span class="op">)</span></span>
<span><span class="va">cov_route_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcn_route_table_raster.html">fcn_route_table_raster</a></span><span class="op">(</span><span class="va">cov</span>, <span class="va">table_sf_2020</span><span class="op">)</span></span>
<span><span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/plot.html" class="external-link">plot</a></span><span class="op">(</span><span class="va">cov</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="figure/unnamed-chunk-3-1.png" alt="plot of chunk unnamed-chunk-3" width="100%"><p class="caption">
plot of chunk unnamed-chunk-3
</p>
</div>
<p>The results of the linear referencing (route event layer) can be
inspected by using the same approach as above. Creation of the segments
could take a while. As seen in the outputs, the values of the event
layer (red) closely match that of the underlying raster layer (in
blue).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cov_route_table</span></span>
<span><span class="co">#&gt;               TransectID       Date   Tlength       htele      FMEAS</span></span>
<span><span class="co">#&gt; 1     1.0_0_SOL.20210810 2021-08-10  484.1095  98.1285629   39.51914</span></span>
<span><span class="co">#&gt; 2     1.0_0_SOL.20210810 2021-08-10  484.1095  90.8086243  128.43721</span></span>
<span><span class="co">#&gt; 3     1.0_0_SOL.20210810 2021-08-10  484.1095  93.5712357  167.95635</span></span>
<span><span class="co">#&gt; 4     1.0_0_SOL.20210810 2021-08-10  484.1095  87.7592163  276.63400</span></span>
<span><span class="co">#&gt; 5     1.0_0_SOL.20210810 2021-08-10  484.1095  90.6590424  296.39357</span></span>
<span><span class="co">#&gt; 6     1.0_0_SOL.20210810 2021-08-10  484.1095  99.3645401  434.71056</span></span>
<span><span class="co">#&gt; 7     1.0_1_SOL.20210810 2021-08-10  960.0208  86.4315948    0.00000</span></span>
<span><span class="co">#&gt; 8     1.0_1_SOL.20210810 2021-08-10  960.0208  94.0716553   78.36905</span></span>
<span><span class="co">#&gt; 9     1.0_1_SOL.20210810 2021-08-10  960.0208  99.3096390  156.73810</span></span>
<span><span class="co">#&gt; 10    1.0_1_SOL.20210810 2021-08-10  960.0208  99.5406876  215.51488</span></span>
<span><span class="co">#&gt; 11    1.0_1_SOL.20210810 2021-08-10  960.0208 101.6088638  313.47619</span></span>
<span><span class="co">#&gt; 12    1.0_1_SOL.20210810 2021-08-10  960.0208  97.9230270  352.66071</span></span>
<span><span class="co">#&gt; 13    1.0_1_SOL.20210810 2021-08-10  960.0208 108.7249451  470.21429</span></span>
<span><span class="co">#&gt; 14    1.0_1_SOL.20210810 2021-08-10  960.0208 111.2061310  607.36012</span></span>
<span><span class="co">#&gt; 15    1.0_1_SOL.20210810 2021-08-10  960.0208 117.2007904  626.95238</span></span>
<span><span class="co">#&gt; 16    1.0_1_SOL.20210810 2021-08-10  960.0208 111.9724274  744.50595</span></span>
<span><span class="co">#&gt; 17    1.0_1_SOL.20210810 2021-08-10  960.0208 104.6725388  783.69048</span></span>
<span><span class="co">#&gt; 18    1.0_1_SOL.20210810 2021-08-10  960.0208  96.8516769  862.05952</span></span>
<span><span class="co">#&gt; 19    1.0_1_SOL.20210810 2021-08-10  960.0208  92.3939438  940.42857</span></span>
<span><span class="co">#&gt; 20    1.0_2_SOL.20210810 2021-08-10 1306.0907  71.7607803    0.00000</span></span>
<span><span class="co">#&gt; 21    1.0_2_SOL.20210810 2021-08-10 1306.0907  83.0034027   79.96474</span></span>
<span><span class="co">#&gt; 22    1.0_2_SOL.20210810 2021-08-10 1306.0907  92.1838150  186.58439</span></span>
<span><span class="co">#&gt; 23    1.0_2_SOL.20210810 2021-08-10 1306.0907  93.7406082  239.89422</span></span>
<span><span class="co">#&gt; 24    1.0_2_SOL.20210810 2021-08-10 1306.0907 101.0420303  319.85895</span></span>
<span><span class="co">#&gt; 25    1.0_2_SOL.20210810 2021-08-10 1306.0907 105.0353088  399.82369</span></span>
<span><span class="co">#&gt; 26    1.0_2_SOL.20210810 2021-08-10 1306.0907 116.0385971  453.13352</span></span>
<span><span class="co">#&gt; 27    1.0_2_SOL.20210810 2021-08-10 1306.0907 120.4598312  559.75317</span></span>
<span><span class="co">#&gt; 28    1.0_2_SOL.20210810 2021-08-10 1306.0907 123.9467850  586.40808</span></span>
<span><span class="co">#&gt; 29    1.0_2_SOL.20210810 2021-08-10 1306.0907 114.2910233  693.02774</span></span>
<span><span class="co">#&gt; 30    1.0_2_SOL.20210810 2021-08-10 1306.0907 115.3687057  719.68265</span></span>
<span><span class="co">#&gt; 31    1.0_2_SOL.20210810 2021-08-10 1306.0907 110.0578995  826.30230</span></span>
<span><span class="co">#&gt; 32    1.0_2_SOL.20210810 2021-08-10 1306.0907 107.4120789  879.61213</span></span>
<span><span class="co">#&gt; 33    1.0_2_SOL.20210810 2021-08-10 1306.0907 107.4086914  959.57686</span></span>
<span><span class="co">#&gt; 34    1.0_2_SOL.20210810 2021-08-10 1306.0907  98.9368591 1039.54160</span></span>
<span><span class="co">#&gt; 35    1.0_2_SOL.20210810 2021-08-10 1306.0907  95.6661377 1092.85143</span></span>
<span><span class="co">#&gt; 36    1.0_2_SOL.20210810 2021-08-10 1306.0907  88.7159882 1199.47108</span></span>
<span><span class="co">#&gt; 37    1.0_2_SOL.20210810 2021-08-10 1306.0907  85.7147598 1226.12599</span></span>
<span><span class="co">#&gt; 38    1.0_3_SOL.20210810 2021-08-10  665.1105  80.0948181    0.00000</span></span>
<span><span class="co">#&gt; 39    1.0_3_SOL.20210810 2021-08-10  665.1105  88.8545303   13.57368</span></span>
<span><span class="co">#&gt; 40    1.0_3_SOL.20210810 2021-08-10  665.1105  93.9811478  122.16316</span></span>
<span><span class="co">#&gt; 41    1.0_3_SOL.20210810 2021-08-10  665.1105 102.3518906  149.31052</span></span>
<span><span class="co">#&gt; 42    1.0_3_SOL.20210810 2021-08-10  665.1105 106.1898575  271.47368</span></span>
<span><span class="co">#&gt; 43    1.0_3_SOL.20210810 2021-08-10  665.1105  99.7986832  407.21052</span></span>
<span><span class="co">#&gt; 44    1.0_3_SOL.20210810 2021-08-10  665.1105 101.6218491  434.35789</span></span>
<span><span class="co">#&gt; 45    1.0_3_SOL.20210810 2021-08-10  665.1105  94.3752136  542.94736</span></span>
<span><span class="co">#&gt; 46    1.0_3_SOL.20210810 2021-08-10  665.1105  99.0598907  583.66841</span></span>
<span><span class="co">#&gt; 47    1.0_3_SOL.20210810 2021-08-10  665.1105  96.2520752  665.11052</span></span>
<span><span class="co">#&gt; 48  1.0_3.1_SOL.20210810 2021-08-10  518.4226  86.2840576    0.00000</span></span>
<span><span class="co">#&gt; 49  1.0_3.1_SOL.20210810 2021-08-10  518.4226  91.2672501   10.58005</span></span>
<span><span class="co">#&gt; 50  1.0_3.1_SOL.20210810 2021-08-10  518.4226  95.0279312  137.54069</span></span>
<span><span class="co">#&gt; 51  1.0_3.1_SOL.20210810 2021-08-10  518.4226 103.5970840  264.50133</span></span>
<span><span class="co">#&gt; 52  1.0_3.1_SOL.20210810 2021-08-10  518.4226  95.5546646  296.24149</span></span>
<span><span class="co">#&gt; 53  1.0_3.1_SOL.20210810 2021-08-10  518.4226 101.0841370  402.04202</span></span>
<span><span class="co">#&gt; 54  1.0_3.1_SOL.20210810 2021-08-10  518.4226  96.2520752  444.36224</span></span>
<span><span class="co">#&gt; 55    1.0_4_SOL.20210811 2021-08-11  907.1461  98.0591354    0.00000</span></span>
<span><span class="co">#&gt; 56    1.0_4_SOL.20210811 2021-08-11  907.1461 107.7485046   55.53956</span></span>
<span><span class="co">#&gt; 57    1.0_4_SOL.20210811 2021-08-11  907.1461 109.8828049   74.05274</span></span>
<span><span class="co">#&gt; 58    1.0_4_SOL.20210811 2021-08-11  907.1461 108.9294434  185.13185</span></span>
<span><span class="co">#&gt; 59    1.0_4_SOL.20210811 2021-08-11  907.1461 102.2802887  240.67141</span></span>
<span><span class="co">#&gt; 60    1.0_4_SOL.20210811 2021-08-11  907.1461  96.5014954  314.72415</span></span>
<span><span class="co">#&gt; 61    1.0_4_SOL.20210811 2021-08-11  907.1461  90.4066086  388.77689</span></span>
<span><span class="co">#&gt; 62    1.0_4_SOL.20210811 2021-08-11  907.1461  87.9675293  444.31644</span></span>
<span><span class="co">#&gt; 63    1.0_4_SOL.20210811 2021-08-11  907.1461  86.4816208  555.39556</span></span>
<span><span class="co">#&gt; 64    1.0_4_SOL.20210811 2021-08-11  907.1461  82.5734329  573.90874</span></span>
<span><span class="co">#&gt; 65    1.0_4_SOL.20210811 2021-08-11  907.1461  80.6365051  703.50104</span></span>
<span><span class="co">#&gt; 66    1.0_4_SOL.20210811 2021-08-11  907.1461  81.7020645  833.09333</span></span>
<span><span class="co">#&gt; 67    1.0_4_SOL.20210811 2021-08-11  907.1461  81.4971085  851.60652</span></span>
<span><span class="co">#&gt; 68    1.0_5_SOL.20210811 2021-08-11  292.8276  83.1643143    0.00000</span></span>
<span><span class="co">#&gt; 69    1.0_5_SOL.20210811 2021-08-11  292.8276  83.9381943   41.83251</span></span>
<span><span class="co">#&gt; 70    1.0_5_SOL.20210811 2021-08-11  292.8276  86.2895508   47.80859</span></span>
<span><span class="co">#&gt; 71    1.0_5_SOL.20210811 2021-08-11  292.8276  97.8077011  185.25827</span></span>
<span><span class="co">#&gt; 72    2.0_0_SOL.20210914 2021-09-14  225.8871   4.9572058    0.00000</span></span>
<span><span class="co">#&gt; 73    2.0_0_SOL.20210914 2021-09-14  225.8871   4.6218963  110.63860</span></span>
<span><span class="co">#&gt; 74    2.0_0_SOL.20210914 2021-09-14  225.8871   5.2267113  165.95790</span></span>
<span><span class="co">#&gt; 75    2.0_1_SOL.20210914 2021-09-14  392.3073   3.0290339    0.00000</span></span>
<span><span class="co">#&gt; 76    2.0_1_SOL.20210914 2021-09-14  392.3073   5.6569290   64.05017</span></span>
<span><span class="co">#&gt; 77    2.0_1_SOL.20210914 2021-09-14  392.3073   6.3112888   80.06271</span></span>
<span><span class="co">#&gt; 78    2.0_1_SOL.20210914 2021-09-14  392.3073   8.0182619  184.14423</span></span>
<span><span class="co">#&gt; 79    2.0_1_SOL.20210914 2021-09-14  392.3073   5.8798933  272.21321</span></span>
<span><span class="co">#&gt; 80    2.0_1_SOL.20210914 2021-09-14  392.3073   4.4406481  304.23830</span></span>
<span><span class="co">#&gt; 81    2.0_2_SOL.20210914 2021-09-14  344.3980   3.9865353    0.00000</span></span>
<span><span class="co">#&gt; 82    2.0_2_SOL.20210914 2021-09-14  344.3980   8.5948601   56.22825</span></span>
<span><span class="co">#&gt; 83    2.0_2_SOL.20210914 2021-09-14  344.3980   9.6675453  133.54209</span></span>
<span><span class="co">#&gt; 84    2.0_2_SOL.20210914 2021-09-14  344.3980   7.3781419  168.68475</span></span>
<span><span class="co">#&gt; 85    2.0_2_SOL.20210914 2021-09-14  344.3980   4.1853876  288.16978</span></span>
<span><span class="co">#&gt; 86    2.0_2_SOL.20210914 2021-09-14  344.3980   2.2097247  323.31243</span></span>
<span><span class="co">#&gt; 87    2.0_3_SOL.20210914 2021-09-14  296.9057   2.5114830    0.00000</span></span>
<span><span class="co">#&gt; 88    2.0_3_SOL.20210914 2021-09-14  296.9057   4.9430017   66.65230</span></span>
<span><span class="co">#&gt; 89    2.0_3_SOL.20210914 2021-09-14  296.9057   8.1762438  169.66041</span></span>
<span><span class="co">#&gt; 90    2.0_3_SOL.20210914 2021-09-14  296.9057   5.2552466  181.77901</span></span>
<span><span class="co">#&gt; 91    2.0_4_SOL.20210914 2021-09-14  179.1759   1.4535773    0.00000</span></span>
<span><span class="co">#&gt; 92    2.0_4_SOL.20210914 2021-09-14  179.1759   4.3423104   10.96995</span></span>
<span><span class="co">#&gt; 93    2.0_4_SOL.20210914 2021-09-14  179.1759   6.1197081   87.75962</span></span>
<span><span class="co">#&gt; 94    2.0_4_SOL.20210914 2021-09-14  179.1759   4.8212657  131.63943</span></span>
<span><span class="co">#&gt; 95    2.0_5_SOL.20210914 2021-09-14  206.3492  -0.7057739    0.00000</span></span>
<span><span class="co">#&gt; 96    2.0_5_SOL.20210914 2021-09-14  206.3492   0.4129234   16.84483</span></span>
<span><span class="co">#&gt; 97    2.0_5_SOL.20210914 2021-09-14  206.3492   4.3536053   29.47846</span></span>
<span><span class="co">#&gt; 98    2.0_5_SOL.20210914 2021-09-14  206.3492   1.0084251  134.75867</span></span>
<span><span class="co">#&gt; 99    3.0_0_SOL.20210909 2021-09-09  180.5436  32.6337585    0.00000</span></span>
<span><span class="co">#&gt; 100   3.0_0_SOL.20210909 2021-09-09  180.5436  27.6040974   22.10738</span></span>
<span><span class="co">#&gt; 101   3.0_0_SOL.20210909 2021-09-09  180.5436  30.1229134  110.53691</span></span>
<span><span class="co">#&gt; 102   3.0_0_SOL.20210909 2021-09-09  180.5436  23.7343769  151.06711</span></span>
<span><span class="co">#&gt; 103   3.0_1_SOL.20210909 2021-09-09  327.4828  22.6150265    0.00000</span></span>
<span><span class="co">#&gt; 104   3.0_1_SOL.20210909 2021-09-09  327.4828  31.5528126   26.73329</span></span>
<span><span class="co">#&gt; 105   3.0_1_SOL.20210909 2021-09-09  327.4828  34.4245682   93.56652</span></span>
<span><span class="co">#&gt; 106   3.0_1_SOL.20210909 2021-09-09  327.4828  39.4174995  173.76640</span></span>
<span><span class="co">#&gt; 107   3.0_1_SOL.20210909 2021-09-09  327.4828  38.0559692  233.91630</span></span>
<span><span class="co">#&gt; 108   3.0_1_SOL.20210909 2021-09-09  327.4828  40.9667587  314.11618</span></span>
<span><span class="co">#&gt; 109   3.0_2_SOL.20210909 2021-09-09  408.2218  42.2307625    0.00000</span></span>
<span><span class="co">#&gt; 110   3.0_2_SOL.20210909 2021-09-09  408.2218  39.0626488   74.97951</span></span>
<span><span class="co">#&gt; 111   3.0_2_SOL.20210909 2021-09-09  408.2218  33.7458687  141.62796</span></span>
<span><span class="co">#&gt; 112   3.0_2_SOL.20210909 2021-09-09  408.2218  26.4184132  208.27640</span></span>
<span><span class="co">#&gt; 113   3.0_2_SOL.20210909 2021-09-09  408.2218  22.4088516  283.25591</span></span>
<span><span class="co">#&gt; 114   3.0_2_SOL.20210909 2021-09-09  408.2218  25.3462181  349.90436</span></span>
<span><span class="co">#&gt; 115   3.0_3_SOL.20210909 2021-09-09  676.7636  30.8695641    0.00000</span></span>
<span><span class="co">#&gt; 116   3.0_3_SOL.20210909 2021-09-09  676.7636  30.1957493   27.62300</span></span>
<span><span class="co">#&gt; 117   3.0_3_SOL.20210909 2021-09-09  676.7636  25.5982513   82.86901</span></span>
<span><span class="co">#&gt; 118   3.0_3_SOL.20210909 2021-09-09  676.7636  23.5042152  165.73803</span></span>
<span><span class="co">#&gt; 119   3.0_3_SOL.20210909 2021-09-09  676.7636  25.2146873  220.98404</span></span>
<span><span class="co">#&gt; 120   3.0_3_SOL.20210909 2021-09-09  676.7636  26.8431416  303.85305</span></span>
<span><span class="co">#&gt; 121   3.0_3_SOL.20210909 2021-09-09  676.7636  29.4027882  359.09906</span></span>
<span><span class="co">#&gt; 122   3.0_3_SOL.20210909 2021-09-09  676.7636  35.9262047  441.96808</span></span>
<span><span class="co">#&gt; 123   3.0_3_SOL.20210909 2021-09-09  676.7636  40.6534081  511.02559</span></span>
<span><span class="co">#&gt; 124   3.0_3_SOL.20210909 2021-09-09  676.7636  45.0115051  580.08310</span></span>
<span><span class="co">#&gt; 125   3.0_3_SOL.20210909 2021-09-09  676.7636  42.6118050  649.14062</span></span>
<span><span class="co">#&gt;          TMEAS segment_length   lpercent</span></span>
<span><span class="co">#&gt; 1    128.43721      88.918070 0.18367347</span></span>
<span><span class="co">#&gt; 2    167.95635      39.519142 0.08163265</span></span>
<span><span class="co">#&gt; 3    276.63400     108.677641 0.22448980</span></span>
<span><span class="co">#&gt; 4    296.39357      19.759571 0.04081633</span></span>
<span><span class="co">#&gt; 5    434.71056     138.316998 0.28571429</span></span>
<span><span class="co">#&gt; 6    484.10949      49.398928 0.10204082</span></span>
<span><span class="co">#&gt; 7     78.36905      78.369048 0.08163265</span></span>
<span><span class="co">#&gt; 8    156.73810      78.369048 0.08163265</span></span>
<span><span class="co">#&gt; 9    215.51488      58.776786 0.06122449</span></span>
<span><span class="co">#&gt; 10   313.47619      97.961309 0.10204082</span></span>
<span><span class="co">#&gt; 11   352.66071      39.184524 0.04081633</span></span>
<span><span class="co">#&gt; 12   470.21429     117.553571 0.12244898</span></span>
<span><span class="co">#&gt; 13   607.36012     137.145833 0.14285714</span></span>
<span><span class="co">#&gt; 14   626.95238      19.592262 0.02040816</span></span>
<span><span class="co">#&gt; 15   744.50595     117.553571 0.12244898</span></span>
<span><span class="co">#&gt; 16   783.69048      39.184524 0.04081633</span></span>
<span><span class="co">#&gt; 17   862.05952      78.369048 0.08163265</span></span>
<span><span class="co">#&gt; 18   940.42857      78.369048 0.08163265</span></span>
<span><span class="co">#&gt; 19   960.02083      19.592262 0.02040816</span></span>
<span><span class="co">#&gt; 20    79.96474      79.964739 0.06122449</span></span>
<span><span class="co">#&gt; 21   186.58439     106.619652 0.08163265</span></span>
<span><span class="co">#&gt; 22   239.89422      53.309826 0.04081633</span></span>
<span><span class="co">#&gt; 23   319.85895      79.964739 0.06122449</span></span>
<span><span class="co">#&gt; 24   399.82369      79.964739 0.06122449</span></span>
<span><span class="co">#&gt; 25   453.13352      53.309826 0.04081633</span></span>
<span><span class="co">#&gt; 26   559.75317     106.619652 0.08163265</span></span>
<span><span class="co">#&gt; 27   586.40808      26.654913 0.02040816</span></span>
<span><span class="co">#&gt; 28   693.02774     106.619652 0.08163265</span></span>
<span><span class="co">#&gt; 29   719.68265      26.654913 0.02040816</span></span>
<span><span class="co">#&gt; 30   826.30230     106.619652 0.08163265</span></span>
<span><span class="co">#&gt; 31   879.61213      53.309826 0.04081633</span></span>
<span><span class="co">#&gt; 32   959.57686      79.964739 0.06122449</span></span>
<span><span class="co">#&gt; 33  1039.54160      79.964739 0.06122449</span></span>
<span><span class="co">#&gt; 34  1092.85143      53.309826 0.04081633</span></span>
<span><span class="co">#&gt; 35  1199.47108     106.619652 0.08163265</span></span>
<span><span class="co">#&gt; 36  1226.12599      26.654913 0.02040816</span></span>
<span><span class="co">#&gt; 37  1306.09073      79.964739 0.06122449</span></span>
<span><span class="co">#&gt; 38    13.57368      13.573684 0.02040816</span></span>
<span><span class="co">#&gt; 39   122.16316     108.589472 0.16326531</span></span>
<span><span class="co">#&gt; 40   149.31052      27.147368 0.04081633</span></span>
<span><span class="co">#&gt; 41   271.47368     122.163156 0.18367347</span></span>
<span><span class="co">#&gt; 42   407.21052     135.736840 0.20408163</span></span>
<span><span class="co">#&gt; 43   434.35789      27.147368 0.04081633</span></span>
<span><span class="co">#&gt; 44   542.94736     108.589472 0.16326531</span></span>
<span><span class="co">#&gt; 45   583.66841      40.721052 0.06122449</span></span>
<span><span class="co">#&gt; 46   665.11052      81.442104 0.12244898</span></span>
<span><span class="co">#&gt; 47   665.11052       0.000000 0.00000000</span></span>
<span><span class="co">#&gt; 48    10.58005      10.580053 0.02040816</span></span>
<span><span class="co">#&gt; 49   137.54069     126.960639 0.24489796</span></span>
<span><span class="co">#&gt; 50   264.50133     126.960639 0.24489796</span></span>
<span><span class="co">#&gt; 51   296.24149      31.740160 0.06122449</span></span>
<span><span class="co">#&gt; 52   402.04202     105.800532 0.20408163</span></span>
<span><span class="co">#&gt; 53   444.36224      42.320213 0.08163265</span></span>
<span><span class="co">#&gt; 54   518.42261      74.060373 0.14285714</span></span>
<span><span class="co">#&gt; 55    55.53956      55.539556 0.06122449</span></span>
<span><span class="co">#&gt; 56    74.05274      18.513185 0.02040816</span></span>
<span><span class="co">#&gt; 57   185.13185     111.079111 0.12244898</span></span>
<span><span class="co">#&gt; 58   240.67141      55.539556 0.06122449</span></span>
<span><span class="co">#&gt; 59   314.72415      74.052741 0.08163265</span></span>
<span><span class="co">#&gt; 60   388.77689      74.052741 0.08163265</span></span>
<span><span class="co">#&gt; 61   444.31644      55.539556 0.06122449</span></span>
<span><span class="co">#&gt; 62   555.39556     111.079111 0.12244898</span></span>
<span><span class="co">#&gt; 63   573.90874      18.513185 0.02040816</span></span>
<span><span class="co">#&gt; 64   703.50104     129.592296 0.14285714</span></span>
<span><span class="co">#&gt; 65   833.09333     129.592296 0.14285714</span></span>
<span><span class="co">#&gt; 66   851.60652      18.513185 0.02040816</span></span>
<span><span class="co">#&gt; 67   907.14607      55.539556 0.06122449</span></span>
<span><span class="co">#&gt; 68    41.83251      41.832513 0.14285714</span></span>
<span><span class="co">#&gt; 69    47.80859       5.976073 0.02040816</span></span>
<span><span class="co">#&gt; 70   185.25827     137.449687 0.46938776</span></span>
<span><span class="co">#&gt; 71   292.82759     107.569320 0.36734694</span></span>
<span><span class="co">#&gt; 72   110.63860     110.638599 0.48979592</span></span>
<span><span class="co">#&gt; 73   165.95790      55.319300 0.24489796</span></span>
<span><span class="co">#&gt; 74   225.88714      59.929241 0.26530612</span></span>
<span><span class="co">#&gt; 75    64.05017      64.050168 0.16326531</span></span>
<span><span class="co">#&gt; 76    80.06271      16.012542 0.04081633</span></span>
<span><span class="co">#&gt; 77   184.14423     104.081523 0.26530612</span></span>
<span><span class="co">#&gt; 78   272.21321      88.068981 0.22448980</span></span>
<span><span class="co">#&gt; 79   304.23830      32.025084 0.08163265</span></span>
<span><span class="co">#&gt; 80   392.30728      88.068981 0.22448980</span></span>
<span><span class="co">#&gt; 81    56.22825      56.228249 0.16326531</span></span>
<span><span class="co">#&gt; 82   133.54209      77.313843 0.22448980</span></span>
<span><span class="co">#&gt; 83   168.68475      35.142656 0.10204082</span></span>
<span><span class="co">#&gt; 84   288.16978     119.485029 0.34693878</span></span>
<span><span class="co">#&gt; 85   323.31243      35.142656 0.10204082</span></span>
<span><span class="co">#&gt; 86   344.39803      21.085593 0.06122449</span></span>
<span><span class="co">#&gt; 87    66.65230      66.652302 0.22448980</span></span>
<span><span class="co">#&gt; 88   169.66041     103.008103 0.34693878</span></span>
<span><span class="co">#&gt; 89   181.77901      12.118600 0.04081633</span></span>
<span><span class="co">#&gt; 90   296.90571     115.126703 0.38775510</span></span>
<span><span class="co">#&gt; 91    10.96995      10.969953 0.06122449</span></span>
<span><span class="co">#&gt; 92    87.75962      76.789668 0.42857143</span></span>
<span><span class="co">#&gt; 93   131.63943      43.879810 0.24489796</span></span>
<span><span class="co">#&gt; 94   179.17589      47.536461 0.26530612</span></span>
<span><span class="co">#&gt; 95    16.84483      16.844834 0.08163265</span></span>
<span><span class="co">#&gt; 96    29.47846      12.633626 0.06122449</span></span>
<span><span class="co">#&gt; 97   134.75867     105.280214 0.51020408</span></span>
<span><span class="co">#&gt; 98   206.34922      71.590545 0.34693878</span></span>
<span><span class="co">#&gt; 99    22.10738      22.107383 0.12244898</span></span>
<span><span class="co">#&gt; 100  110.53691      88.429530 0.48979592</span></span>
<span><span class="co">#&gt; 101  151.06711      40.530201 0.22448980</span></span>
<span><span class="co">#&gt; 102  180.54362      29.476510 0.16326531</span></span>
<span><span class="co">#&gt; 103   26.73329      26.733292 0.08163265</span></span>
<span><span class="co">#&gt; 104   93.56652      66.833229 0.20408163</span></span>
<span><span class="co">#&gt; 105  173.76640      80.199875 0.24489796</span></span>
<span><span class="co">#&gt; 106  233.91630      60.149906 0.18367347</span></span>
<span><span class="co">#&gt; 107  314.11618      80.199875 0.24489796</span></span>
<span><span class="co">#&gt; 108  327.48282      13.366646 0.04081633</span></span>
<span><span class="co">#&gt; 109   74.97951      74.979506 0.18367347</span></span>
<span><span class="co">#&gt; 110  141.62796      66.648449 0.16326531</span></span>
<span><span class="co">#&gt; 111  208.27640      66.648449 0.16326531</span></span>
<span><span class="co">#&gt; 112  283.25591      74.979506 0.18367347</span></span>
<span><span class="co">#&gt; 113  349.90436      66.648449 0.16326531</span></span>
<span><span class="co">#&gt; 114  408.22175      58.317393 0.14285714</span></span>
<span><span class="co">#&gt; 115   27.62300      27.623005 0.04081633</span></span>
<span><span class="co">#&gt; 116   82.86901      55.246010 0.08163265</span></span>
<span><span class="co">#&gt; 117  165.73803      82.869015 0.12244898</span></span>
<span><span class="co">#&gt; 118  220.98404      55.246010 0.08163265</span></span>
<span><span class="co">#&gt; 119  303.85305      82.869015 0.12244898</span></span>
<span><span class="co">#&gt; 120  359.09906      55.246010 0.08163265</span></span>
<span><span class="co">#&gt; 121  441.96808      82.869015 0.12244898</span></span>
<span><span class="co">#&gt; 122  511.02559      69.057512 0.10204082</span></span>
<span><span class="co">#&gt; 123  580.08310      69.057512 0.10204082</span></span>
<span><span class="co">#&gt; 124  649.14062      69.057512 0.10204082</span></span>
<span><span class="co">#&gt; 125  676.76362      27.623005 0.04081633</span></span>
<span><span class="co">#&gt;  [ reached 'max' / getOption("max.print") -- omitted 17750 rows ]</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cov_route_features</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcn_locate_feature_from_route.html">fcn_locate_feature_from_route</a></span><span class="op">(</span><span class="va">cov_route_table</span>, <span class="va">table_sf_2020</span><span class="op">)</span></span>
<span><span class="va">bbox</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">441430</span>, <span class="fl">449400</span><span class="op">)</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">6928706</span>, <span class="fl">6936814</span><span class="op">)</span>, expand <span class="op">=</span> <span class="cn">F</span><span class="op">)</span></span>
<span><span class="va">ext</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/ext.html" class="external-link">ext</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">$</span><span class="va">xlim</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">$</span><span class="va">xlim</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">$</span><span class="va">ylim</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">$</span><span class="va">ylim</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">cov_crop</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/crop.html" class="external-link">crop</a></span><span class="op">(</span><span class="va">cov</span>, <span class="va">ext</span><span class="op">)</span></span>
<span><span class="va">limits</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/minmax.html" class="external-link">minmax</a></span><span class="op">(</span><span class="va">cov_crop</span><span class="op">)</span></span>
<span><span class="va">rast_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://dieghernan.github.io/tidyterra/reference/geom_spatraster.html" class="external-link">geom_spatraster</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">cov_crop</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">coord_sf</span>, <span class="va">bbox</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"htele: covariate raster"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_fill_viridis_c</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">limits</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">limits</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co">#guides(color = 'none')+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>panel.grid <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">transect_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">cov_route_features</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">htele</span><span class="op">)</span>, linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">coord_sf</span>, <span class="va">bbox</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"htele: extracted from transects"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_c</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">limits</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">limits</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>panel.grid <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">rast_plot</span> <span class="op">+</span> <span class="va">transect_plot</span> <span class="op">+</span> <span class="fu"><a href="https://patchwork.data-imaginist.com/reference/plot_layout.html" class="external-link">plot_layout</a></span><span class="op">(</span>guides <span class="op">=</span> <span class="st">'collect'</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="figure/unnamed-chunk-5-1.png" alt="plot of chunk unnamed-chunk-5" width="100%"><p class="caption">
plot of chunk unnamed-chunk-5
</p>
</div>
</div>
<div class="section level3">
<h3 id="spatio-temporal-rasters">Spatio-temporal rasters<a class="anchor" aria-label="anchor" href="#spatio-temporal-rasters"></a>
</h3>
<p>Extraction of covariates from spatio-temporal raster files are also
supported. The algorithm first extracts spatio-temporal rasters as a
multi-layer SpatRaster in <code>terra</code> and creates the Event Route
Layer from all spatio-temporal layers.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cov_sptemp</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcn_covariate_raster_load.html">fcn_covariate_raster_load</a></span><span class="op">(</span><span class="st">"hlwdy"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cov_sptemp</span><span class="op">)</span></span>
<span><span class="co">#&gt;  [1] "X199607" "X199707" "X199807" "X199907" "X200007" "X200107" "X200207"</span></span>
<span><span class="co">#&gt;  [8] "X200307" "X200407" "X200507" "X200607" "X200707" "X200807" "X200907"</span></span>
<span><span class="co">#&gt; [15] "X201007" "X201107" "X201207" "X201307" "X201407" "X201507" "X201607"</span></span>
<span><span class="co">#&gt; [22] "X201707" "X201807" "X201907"</span></span></code></pre></div>
<p>The covariates are extracted as a multi-layer “SpatRaster” (from the
<code>terra</code> package) where the names of the raster layers
represents the dates of the raster layer. Where only the year and month
of the raster layers are available, the dates of the raster layers are
assumed to be taken on the 15th of the month. The date of the month is
expected to have a relatively small effect on the covariate
extracted.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cov_sptemp_route_table</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcn_route_table_raster.html">fcn_route_table_raster</a></span><span class="op">(</span><span class="va">cov_sptemp</span>, <span class="va">table_sf_2020</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): external pointer is not valid</span></span></code></pre></div>
<p>The covariate value of the route event layer can be matched to the
date of the survey. The covariate value representative of the date which
the transect is surveyed can be interpolated by the following
methods:</p>
<ul>
<li><p>bilinear: bilinear interpolation between the two closest dates of
the survey date, weighted by how close the survey is to the two dates.
If the survey date is earlier or later than all of the dates of the
covariate layers, then the earliest or latest covariate layer is
selected respectively</p></li>
<li><p>nearest: the covariate layer closest to the survey date is
used</p></li>
<li><p>“lag1” / “lag2” / “lag3” (work in progress): lagged layers –
select the first, second or third layer available earlier than the
survey date. If the lagged layer is not available, then select the
earliest layer available.</p></li>
</ul>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">route_table_date_matched</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcn_covariate_match_date.html">fcn_covariate_match_date</a></span><span class="op">(</span><span class="va">cov_sptemp_route_table</span>, <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cov_sptemp</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">'bilinear'</span><span class="op">)</span></span>
<span><span class="va">route_table_date_matched</span></span>
<span><span class="co">#&gt;            TransectID       Date   Tlength X199607 X199707 X199807 X199907</span></span>
<span><span class="co">#&gt; 1  1.0_0_SOL.20210810 2021-08-10  484.1095     161     164     166     166</span></span>
<span><span class="co">#&gt; 2  1.0_0_SOL.20210810 2021-08-10  484.1095     163     166     167     168</span></span>
<span><span class="co">#&gt; 3  1.0_0_SOL.20210810 2021-08-10  484.1095     159     160     162     164</span></span>
<span><span class="co">#&gt; 4  1.0_0_SOL.20210810 2021-08-10  484.1095     160     162     164     166</span></span>
<span><span class="co">#&gt; 5  1.0_0_SOL.20210810 2021-08-10  484.1095     163     167     168     170</span></span>
<span><span class="co">#&gt; 6  1.0_0_SOL.20210810 2021-08-10  484.1095     162     164     164     164</span></span>
<span><span class="co">#&gt; 7  1.0_1_SOL.20210810 2021-08-10  960.0208     159     160     162     163</span></span>
<span><span class="co">#&gt; 8  1.0_1_SOL.20210810 2021-08-10  960.0208     157     160     162     162</span></span>
<span><span class="co">#&gt; 9  1.0_1_SOL.20210810 2021-08-10  960.0208     156     157     159     160</span></span>
<span><span class="co">#&gt; 10 1.0_1_SOL.20210810 2021-08-10  960.0208     155     154     154     154</span></span>
<span><span class="co">#&gt; 11 1.0_1_SOL.20210810 2021-08-10  960.0208     166     168     170     172</span></span>
<span><span class="co">#&gt; 12 1.0_1_SOL.20210810 2021-08-10  960.0208     166     168     169     170</span></span>
<span><span class="co">#&gt; 13 1.0_1_SOL.20210810 2021-08-10  960.0208     157     157     159     160</span></span>
<span><span class="co">#&gt; 14 1.0_1_SOL.20210810 2021-08-10  960.0208     152     152     151     152</span></span>
<span><span class="co">#&gt; 15 1.0_1_SOL.20210810 2021-08-10  960.0208     156     156     156     156</span></span>
<span><span class="co">#&gt; 16 1.0_1_SOL.20210810 2021-08-10  960.0208     160     160     158     156</span></span>
<span><span class="co">#&gt; 17 1.0_1_SOL.20210810 2021-08-10  960.0208     164     164     163     162</span></span>
<span><span class="co">#&gt; 18 1.0_1_SOL.20210810 2021-08-10  960.0208     163     163     161     160</span></span>
<span><span class="co">#&gt; 19 1.0_1_SOL.20210810 2021-08-10  960.0208     160     161     160     159</span></span>
<span><span class="co">#&gt; 20 1.0_2_SOL.20210810 2021-08-10 1306.0907     161     162     162     160</span></span>
<span><span class="co">#&gt; 21 1.0_2_SOL.20210810 2021-08-10 1306.0907     164     163     161     161</span></span>
<span><span class="co">#&gt; 22 1.0_2_SOL.20210810 2021-08-10 1306.0907     169     167     165     162</span></span>
<span><span class="co">#&gt; 23 1.0_2_SOL.20210810 2021-08-10 1306.0907     167     168     168     168</span></span>
<span><span class="co">#&gt; 24 1.0_2_SOL.20210810 2021-08-10 1306.0907     164     162     161     161</span></span>
<span><span class="co">#&gt; 25 1.0_2_SOL.20210810 2021-08-10 1306.0907     160     161     162     163</span></span>
<span><span class="co">#&gt; 26 1.0_2_SOL.20210810 2021-08-10 1306.0907     159     159     160     162</span></span>
<span><span class="co">#&gt; 27 1.0_2_SOL.20210810 2021-08-10 1306.0907     162     162     163     163</span></span>
<span><span class="co">#&gt; 28 1.0_2_SOL.20210810 2021-08-10 1306.0907     160     161     162     162</span></span>
<span><span class="co">#&gt; 29 1.0_2_SOL.20210810 2021-08-10 1306.0907     159     158     157     157</span></span>
<span><span class="co">#&gt; 30 1.0_2_SOL.20210810 2021-08-10 1306.0907     151     151     151     152</span></span>
<span><span class="co">#&gt; 31 1.0_2_SOL.20210810 2021-08-10 1306.0907     152     152     151     150</span></span>
<span><span class="co">#&gt;    X200007 X200107 X200207 X200307 X200407 X200507 X200607 X200707 X200807</span></span>
<span><span class="co">#&gt; 1      165     164     164     164     163     163     162     162     163</span></span>
<span><span class="co">#&gt; 2      168     169     171     172     169     165     161     158     158</span></span>
<span><span class="co">#&gt; 3      166     167     169     170     169     164     158     156     159</span></span>
<span><span class="co">#&gt; 4      167     168     169     169     167     163     158     155     157</span></span>
<span><span class="co">#&gt; 5      170     171     171     171     168     165     161     159     161</span></span>
<span><span class="co">#&gt; 6      164     165     165     165     164     160     156     153     154</span></span>
<span><span class="co">#&gt; 7      164     165     163     160     157     154     153     153     156</span></span>
<span><span class="co">#&gt; 8      162     160     160     161     159     157     153     152     153</span></span>
<span><span class="co">#&gt; 9      161     162     162     161     160     158     156     155     156</span></span>
<span><span class="co">#&gt; 10     154     156     157     159     159     157     153     150     150</span></span>
<span><span class="co">#&gt; 11     173     173     173     170     167     165     162     159     161</span></span>
<span><span class="co">#&gt; 12     171     172     172     173     172     168     163     160     161</span></span>
<span><span class="co">#&gt; 13     163     165     166     167     165     161     157     154     156</span></span>
<span><span class="co">#&gt; 14     153     155     158     160     160     157     154     151     152</span></span>
<span><span class="co">#&gt; 15     156     156     158     158     158     157     157     155     156</span></span>
<span><span class="co">#&gt; 16     155     155     156     158     158     158     157     156     158</span></span>
<span><span class="co">#&gt; 17     161     161     161     163     163     163     162     160     162</span></span>
<span><span class="co">#&gt; 18     160     160     161     162     161     160     158     158     159</span></span>
<span><span class="co">#&gt; 19     160     160     163     163     163     161     158     158     159</span></span>
<span><span class="co">#&gt; 20     159     159     160     161     162     161     160     160     161</span></span>
<span><span class="co">#&gt; 21     160     161     163     164     164     162     158     155     156</span></span>
<span><span class="co">#&gt; 22     161     162     163     165     164     162     159     157     158</span></span>
<span><span class="co">#&gt; 23     167     167     167     167     166     164     161     159     161</span></span>
<span><span class="co">#&gt; 24     161     163     164     165     166     164     160     156     157</span></span>
<span><span class="co">#&gt; 25     164     164     164     165     162     159     157     157     158</span></span>
<span><span class="co">#&gt; 26     164     166     167     166     164     161     157     154     155</span></span>
<span><span class="co">#&gt; 27     163     163     163     163     162     160     157     155     157</span></span>
<span><span class="co">#&gt; 28     162     162     160     159     157     155     153     152     152</span></span>
<span><span class="co">#&gt; 29     159     159     159     159     158     156     153     152     152</span></span>
<span><span class="co">#&gt; 30     154     157     159     160     159     156     153     151     150</span></span>
<span><span class="co">#&gt; 31     151     151     152     152     153     152     150     147     146</span></span>
<span><span class="co">#&gt;    X200907 X201007 X201107 X201207 X201307 X201407 X201507 X201607 X201707</span></span>
<span><span class="co">#&gt; 1      166     170     172     172     171     168     164     161     161</span></span>
<span><span class="co">#&gt; 2      162     166     169     169     168     165     164     163     164</span></span>
<span><span class="co">#&gt; 3      167     173     176     174     169     164     161     161     163</span></span>
<span><span class="co">#&gt; 4      164     170     174     173     169     165     163     162     163</span></span>
<span><span class="co">#&gt; 5      165     171     174     174     170     166     163     162     163</span></span>
<span><span class="co">#&gt; 6      158     164     172     176     175     171     164     157     151</span></span>
<span><span class="co">#&gt; 7      160     164     165     164     161     159     156     155     157</span></span>
<span><span class="co">#&gt; 8      157     161     164     163     160     157     154     152     153</span></span>
<span><span class="co">#&gt; 9      160     163     166     165     163     159     156     153     154</span></span>
<span><span class="co">#&gt; 10     153     158     163     162     159     155     153     152     152</span></span>
<span><span class="co">#&gt; 11     165     171     176     178     174     170     167     165     165</span></span>
<span><span class="co">#&gt; 12     166     172     175     174     171     167     164     162     163</span></span>
<span><span class="co">#&gt; 13     162     168     171     172     170     166     161     155     150</span></span>
<span><span class="co">#&gt; 14     155     158     160     161     160     158     155     152     149</span></span>
<span><span class="co">#&gt; 15     158     160     163     162     162     160     157     154     152</span></span>
<span><span class="co">#&gt; 16     160     164     167     167     166     162     160     159     159</span></span>
<span><span class="co">#&gt; 17     163     167     170     169     165     161     160     160     162</span></span>
<span><span class="co">#&gt; 18     161     164     165     165     164     162     161     160     162</span></span>
<span><span class="co">#&gt; 19     162     165     168     168     164     161     160     160     160</span></span>
<span><span class="co">#&gt; 20     162     165     167     165     163     159     158     159     160</span></span>
<span><span class="co">#&gt; 21     159     164     168     169     168     166     164     163     162</span></span>
<span><span class="co">#&gt; 22     163     167     170     170     167     165     164     164     165</span></span>
<span><span class="co">#&gt; 23     165     170     172     172     171     168     166     163     162</span></span>
<span><span class="co">#&gt; 24     161     165     168     168     167     164     163     161     161</span></span>
<span><span class="co">#&gt; 25     159     161     162     161     162     161     162     163     163</span></span>
<span><span class="co">#&gt; 26     159     163     166     166     165     162     158     155     156</span></span>
<span><span class="co">#&gt; 27     160     163     165     166     165     165     164     161     162</span></span>
<span><span class="co">#&gt; 28     155     158     161     162     161     160     157     155     155</span></span>
<span><span class="co">#&gt; 29     154     159     163     164     162     158     155     151     152</span></span>
<span><span class="co">#&gt; 30     151     152     153     154     154     153     151     147     147</span></span>
<span><span class="co">#&gt; 31     147     149     151     151     150     149     146     143     143</span></span>
<span><span class="co">#&gt;    X201807 X201907     FMEAS     TMEAS segment_length   lpercent value</span></span>
<span><span class="co">#&gt; 1      162     167  39.51914 128.43721       88.91807 0.18367347   167</span></span>
<span><span class="co">#&gt; 2      162     162 128.43721 167.95635       39.51914 0.08163265   162</span></span>
<span><span class="co">#&gt; 3      161     161 167.95635 276.63400      108.67764 0.22448980   161</span></span>
<span><span class="co">#&gt; 4      161     161 276.63400 296.39357       19.75957 0.04081633   161</span></span>
<span><span class="co">#&gt; 5      162     163 296.39357 434.71056      138.31700 0.28571429   163</span></span>
<span><span class="co">#&gt; 6      155     159 434.71056 484.10949       49.39893 0.10204082   159</span></span>
<span><span class="co">#&gt; 7      156     157   0.00000  78.36905       78.36905 0.08163265   157</span></span>
<span><span class="co">#&gt; 8      151     151  78.36905 156.73810       78.36905 0.08163265   151</span></span>
<span><span class="co">#&gt; 9      151     151 156.73810 215.51488       58.77679 0.06122449   151</span></span>
<span><span class="co">#&gt; 10     152     150 215.51488 313.47619       97.96131 0.10204082   150</span></span>
<span><span class="co">#&gt; 11     162     160 313.47619 352.66071       39.18452 0.04081633   160</span></span>
<span><span class="co">#&gt; 12     161     160 352.66071 470.21429      117.55357 0.12244898   160</span></span>
<span><span class="co">#&gt; 13     155     159 470.21429 607.36012      137.14583 0.14285714   159</span></span>
<span><span class="co">#&gt; 14     149     156 607.36012 626.95238       19.59226 0.02040816   156</span></span>
<span><span class="co">#&gt; 15     154     157 626.95238 744.50595      117.55357 0.12244898   157</span></span>
<span><span class="co">#&gt; 16     160     161 744.50595 783.69048       39.18452 0.04081633   161</span></span>
<span><span class="co">#&gt; 17     161     161 783.69048 862.05952       78.36905 0.08163265   161</span></span>
<span><span class="co">#&gt; 18     162     161 862.05952 940.42857       78.36905 0.08163265   161</span></span>
<span><span class="co">#&gt; 19     156     155 940.42857 960.02083       19.59226 0.02040816   155</span></span>
<span><span class="co">#&gt; 20     157     156   0.00000  79.96474       79.96474 0.06122449   156</span></span>
<span><span class="co">#&gt; 21     161     156  79.96474 186.58439      106.61965 0.08163265   156</span></span>
<span><span class="co">#&gt; 22     162     161 186.58439 239.89422       53.30983 0.04081633   161</span></span>
<span><span class="co">#&gt; 23     162     161 239.89422 319.85895       79.96474 0.06122449   161</span></span>
<span><span class="co">#&gt; 24     159     161 319.85895 399.82369       79.96474 0.06122449   161</span></span>
<span><span class="co">#&gt; 25     162     160 399.82369 453.13352       53.30983 0.04081633   160</span></span>
<span><span class="co">#&gt; 26     155     158 453.13352 559.75317      106.61965 0.08163265   158</span></span>
<span><span class="co">#&gt; 27     164     160 559.75317 586.40808       26.65491 0.02040816   160</span></span>
<span><span class="co">#&gt; 28     153     152 586.40808 693.02774      106.61965 0.08163265   152</span></span>
<span><span class="co">#&gt; 29     150     151 693.02774 719.68265       26.65491 0.02040816   151</span></span>
<span><span class="co">#&gt; 30     146     147 719.68265 826.30230      106.61965 0.08163265   147</span></span>
<span><span class="co">#&gt; 31     143     145 826.30230 879.61213       53.30983 0.04081633   145</span></span>
<span><span class="co">#&gt;  [ reached 'max' / getOption("max.print") -- omitted 17844 rows ]</span></span></code></pre></div>
<p>The date matching algorithm creates / overwrites the “value” column
in the route_table as an output. Here we preview the extracted,
interpolated value next to the most recent layer of the spatio-temporal
raster.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cov_sptemp_date_matched</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/fcn_locate_feature_from_route.html">fcn_locate_feature_from_route</a></span><span class="op">(</span><span class="va">route_table_date_matched</span>, <span class="va">table_sf_2020</span><span class="op">)</span></span>
<span><span class="va">ext</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/ext.html" class="external-link">ext</a></span><span class="op">(</span><span class="va">bbox</span><span class="op">$</span><span class="va">xlim</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">$</span><span class="va">xlim</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">$</span><span class="va">ylim</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">bbox</span><span class="op">$</span><span class="va">ylim</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="va">cov_sptemp_crop</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/crop.html" class="external-link">crop</a></span><span class="op">(</span><span class="va">cov_sptemp</span>, <span class="va">ext</span><span class="op">)</span></span>
<span><span class="co">#&gt; Error in eval(expr, envir, enclos): external pointer is not valid</span></span>
<span><span class="va">limits</span> <span class="op">&lt;-</span> <span class="fu">terra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/terra/man/minmax.html" class="external-link">minmax</a></span><span class="op">(</span><span class="va">cov_sptemp_crop</span><span class="op">)</span></span>
<span><span class="va">rast_sptemp_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://dieghernan.github.io/tidyterra/reference/geom_spatraster.html" class="external-link">geom_spatraster</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">cov_sptemp_crop</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="va">X201907</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">coord_sf</span>, <span class="va">bbox</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>fill <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"hlwdy: 2019/07 woody \nvegetation cover"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_fill_viridis_c</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">limits</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">limits</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co">#guides(color = 'none')+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>panel.grid <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">transect_sptemp_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggsf.html" class="external-link">geom_sf</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">cov_sptemp_date_matched</span>, <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>color <span class="op">=</span> <span class="va">value</span><span class="op">)</span>, linewidth <span class="op">=</span> <span class="fl">1</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/do.call.html" class="external-link">do.call</a></span><span class="op">(</span><span class="va">coord_sf</span>, <span class="va">bbox</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"hlwdy: transects (bilinear)"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">labs</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">""</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_viridis.html" class="external-link">scale_color_viridis_c</a></span><span class="op">(</span>limits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">limits</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span>, <span class="va">limits</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggtheme.html" class="external-link">theme_bw</a></span><span class="op">(</span><span class="op">)</span><span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/theme.html" class="external-link">theme</a></span><span class="op">(</span>panel.grid <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">element_blank</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">rast_sptemp_plot</span> <span class="op">+</span> <span class="va">transect_sptemp_plot</span> <span class="op">+</span> <span class="fu"><a href="https://patchwork.data-imaginist.com/reference/plot_layout.html" class="external-link">plot_layout</a></span><span class="op">(</span>guides <span class="op">=</span> <span class="st">'collect'</span><span class="op">)</span></span></code></pre></div>
<div class="figure">
<img src="figure/unnamed-chunk-9-1.png" alt="plot of chunk unnamed-chunk-9" width="100%"><p class="caption">
plot of chunk unnamed-chunk-9
</p>
</div>
</div>
</div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Frankie Cho, Jonathan Rhodes.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
